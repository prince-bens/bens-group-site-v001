<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="utf-8"/>
    <title>Suivi de livraison en direct - Bens Group</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="/socket.io/socket.io.js"></script>
    <link rel="stylesheet" href="/css/general.css">
    <link rel="stylesheet" href="/css/modals.css">
    <link rel="stylesheet" href="/css/livraison.css">
    <link rel="stylesheet" href="/css/chatbot.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
    <link href="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.css" rel="stylesheet" /> 
    <!-- Primary Meta Tags -->
    <meta name="title" content="Suivi de Livraison - BENS Groupe" />
    <meta name="description" content="BENS Groupe, PME sénégalaise spécialisée dans le transport routier Dakar-Bamako, la logistique et le commerce de matériaux de construction (ciment, fer à béton, gravier). Devis en moins de 24h." />
    <meta name="keywords" content="transport Sénégal, transport Dakar Bamako, logistique Dakar, matériaux construction Sénégal, BENS Groupe, transport routier, commerce matériaux, ciment Sénégal, fer à béton, gravier, BTP Sénégal, transport conteneurs, transport conditionné" />
    <meta name="author" content="BENS Groupe" />
    <meta name="robots" content="index, follow" />
    <meta name="language" content="French" />
    <meta name="revisit-after" content="7 days" />
    <meta name="distribution" content="global" />
    <meta name="rating" content="general" />
    
    <!-- Geo Tags -->
    <meta name="geo.region" content="SN" />
    <meta name="geo.placename" content="Dakar, Sénégal" />
    <meta name="geo.position" content="14.6928;-17.4467" />
    <meta name="ICBM" content="14.6928, -17.4467" />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://bens-groupe.com/livraison.html" />
    <meta property="og:title" content="Suivi de Livraison - BENS Groupe" />
    <meta property="og:description" content="PME sénégalaise spécialisée dans le transport routier Dakar-Bamako, la logistique et le commerce de matériaux de construction. Devis en moins de 24h." />
    <meta property="og:image" content="https://bens-groupe.com/assets/image/Preview.png" />
    <meta property="og:image:width" content="1200"/>
    <meta property="og:image:height" content="630"/>
    <meta property="og:image:alt" content="BENS Groupe - Transport et logistique au Sénégal" />
    <meta property="og:image:type" content="image/png" />
    <meta property="og:image:secure_url" content="https://bens-groupe.com/assets/image/Preview.png" />
    <meta property="og:site_name" content="BENS Groupe" />
    <meta property="og:locale" content="fr_FR" />
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://bens-groupe.com/livraison.html" />
    <meta property="twitter:title" content="Suivi de Livraison - BENS Groupe" />
    <meta property="twitter:description" content="PME sénégalaise spécialisée dans le transport routier Dakar-Bamako, la logistique et le commerce de matériaux de construction. Devis en moins de 24h." />
    <meta property="twitter:image" content="https://bens-groupe.com/assets/image/Preview.png" />
    <meta property="twitter:image:alt" content="BENS Groupe - Transport et logistique au Sénégal" />
    <meta property="twitter:creator" content="@bensgroupe" />
    <meta property="twitter:site" content="@bensgroupe" />

    <!-- Additional SEO Tags -->
    <meta name="theme-color" content="#fff" />
    <meta name="msapplication-TileColor" content="#a90505" />
    <meta name="msapplication-config" content="/browserconfig.xml" />
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://bens-groupe.com/livraison.html" />
    
    <!-- Alternate Languages -->
    <link rel="alternate" hreflang="fr" href="https://bens-groupe.com/" />
    <link rel="alternate" hreflang="fr-sn" href="https://bens-groupe.com/" />
    <link rel="alternate" hreflang="x-default" href="https://bens-groupe.com/" />
    
    <!-- Preconnect for Performance -->
    <link rel="preconnect" href="https://api.mapbox.com" />
    <link rel="preconnect" href="https://cdnjs.cloudflare.com" />

    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/svg/favicon.svg" />
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/svg/favicon.svg" />
    <link rel="manifest" href="/site.webmanifest" />
    <link rel="mask-icon" href="/assets/svg/favicon.svg" color="#a90505" />
    <meta name="msapplication-TileImage" content="/assets/svg/favicon.svg" />
    
</head>
<body>
    <div class="chatbot_icon" id="chatbot_icon">
        <img src="/assets/svg/chat_icon.svg" alt="Chatbot">
    </div>
    <div id="chatbot-container" class="chatbot-container">
        <div class="chatbot-header">
            <h3>Discuter avec l'assistant</h3>
            <span id="close-chatbot" class="close-chatbot">&times;</span>
        </div>
        <div class="chatbot-messages" id="chatbot-messages">
            <div class="message bot">Bonjour ! Je suis l'assistant de Bens Groupe. Comment puis-je vous aider ?</div>
        </div>
        <div class="chatbot-input-area">
            <input type="text" id="user-input" placeholder="Posez votre question...">
            <button id="send-btn">Envoyer</button>
        </div>
    </div>
    
    <div id="modal-details" class="modal-overlay">
        <div class="modal-content">
            <button class="close-modal">&times;</button>
            <h2>Details de la livraison</h2>
            <div id="details-list" class="detail">
                <span>Aucun details disponible.</span>
            </div>
        </div>
    </div>

    <div id="modal-upload-doc" class="modal-overlay"> <!-- Anciennement modal-images -->
        <div class="modal-content">
            <button class="close-modal">&times;</button>
            <h2>Envoyer un document</h2>
            <form id="form-upload-doc">
                <p>Chargez un document (image, PDF...) lié à cette livraison.</p>
                <div class="form-group">
                    <label for="doc-file-input">Sélectionner un fichier</label>
                    <input type="file" id="doc-file-input" name="files" required>
                </div>
                <button type="submit" class="btn-submit">Envoyer</button>
            </form>
        </div>
    </div>
    <div id="modal-justificatif" class="modal-overlay">
        <div class="modal-content">
            <button class="close-modal">&times;</button>
            <h2>Documents de la livraison</h2>
            <div id="justificatif-list" class="gallery">
                <span>Aucun document disponible.</span>
            </div>
        </div>
    </div>

    <div id="modal-reception" class="modal-overlay">
        <div class="modal-content">
            <button class="close-modal">&times;</button>
            <h2>Confirmer la réception</h2>
            <form id="form-reception">
                <p>Veuillez confirmer que nous pouvons clôturer l'opération.</p>
                <div class="form-group-checkbox">
                    <input type="checkbox" id="reception-confirm" name="reception-confirm" required>
                    <label for="reception-confirm">Je confirme.</label>
                </div>
                <button type="submit" class="btn-submit">Valider</button>
            </form>
        </div>
    </div>

    <div id="modal-probleme" class="modal-overlay">
        <div class="modal-content">
            <button class="close-modal">&times;</button>
            <h2>Signaler un problème</h2>
            <form id="form-probleme">
                <div class="form-group">
                    <label for="probleme-description">Décrivez le problème rencontré :</label>
                    <textarea id="probleme-description" name="probleme-description" rows="5" required></textarea>
                </div>
                <button type="submit" class="btn-submit">Envoyer le signalement</button>
            </form>
        </div>
    </div>

    <div id="modal-auth-required" class="modal-overlay ">
        <div class="modal-content modal-auth-required">
            <button class="close-modal">&times;</button>
            <h2>Authentification requise</h2>
            <p>Vous devez être connecté pour accéder à cette fonctionnalité.</p>
            <a href="/authentification" class="btn-submit">S'authentifier</a>
        </div>
    </div>

    <!-- Nouvelle modale pour la satisfaction client -->
    <div id="modal-satisfaction" class="modal-overlay">
        <div class="modal-content">
            <button class="close-modal">&times;</button>
            <h2>Votre avis nous intéresse</h2>
            <p>Comment évaluez-vous cette livraison ?</p>
            <div class="satisfaction-buttons">
                <button id="btn-satisfied" class="satisfaction-btn satisfied">
                    <img src="/assets/svg/like.svg" alt="icone satisfait">
                    <span>Satisfait</span>
                </button>
                <button id="btn-unsatisfied" class="satisfaction-btn unsatisfied">
                    <img src="/assets/svg/dislike.svg" alt="icone non satisfait">
                    <span>Non satisfait</span>
                </button>
            </div>
        </div>
    </div>
     

    <div id="panel-expanded" class="info-panel">
        <div class="panel-header">
            <div class="info">
                <p class="nom">Livraison container (Ref: A7ehg-ejke)</p>
                <p class="moreInfoLivraison gray"></p>
                <p class="statut"></p>
            </div>
            <button id="collapse-btn" class="icon-btn">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m6 9 6 6 6-6"/></svg>
            </button>
        </div>

        <div class="commande">
            <button id="btn-details" class="btncmd">
                <span>Details de l'operation</span>
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" x2="8" y1="13" y2="13"/><line x1="16" x2="8" y1="17" y2="17"/><polyline points="10 9 9 9 8 9"/></svg>
            </button>
            <button id="btn-upload-doc" class="btncmd">
                <span>Envoyer des documents</span>
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" x2="12" y1="3" y2="15"/></svg>
            </button>
            <button id="btn-justificatif" class="btncmd">
                <span>Consulter les documents</span>
                <svg width="44" height="44" viewBox="0 0 44 44" fill="none" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<rect width="44" height="44" fill="url(#pattern0_2941_54)"/>
<defs>
<pattern id="pattern0_2941_54" patternContentUnits="objectBoundingBox" width="1" height="1">
<use xlink:href="#image0_2941_54" transform="scale(0.01)"/>
</pattern>
<image id="image0_2941_54" width="100" height="100" preserveAspectRatio="none" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAByUlEQVR4nO2dvS5lcRRHl+jGY2iJqEhENBKNMI3EW2hFFFQ+aiX6mWFeRjGj9QIaIRJsuXETkdCde+7vXGsl6wH2Xjk53f6DiIiIiIiIiIiIiIiIfMUEMA+sAxsDdmXYwyYzA1wCD0C16N6wB09jDNgFnlsOUUb5nOMhhiijfORnQIgyyhvjwHVAhDLKG0sBy68vPOQbsh+w+PJLeec8YOnll/LO74CFV0d8BG6AC2Cz//81CDleAbMGIco7YNkgRHkLTBqEKP8ahDgb+UoMQmNuGYQoTwxClL8MQpS9XRqEHA1ClgYhS4OQpUHI0iBkaRCyNAhZGoQsDUKWBiFLg5ClQcjSIGRpELI0CFkahCwNQpYGIUuDkKVByNIgZGkQsjQIWRqELA1ClgYhS4OQpUHI0iBkaRCyNAhZGoQsDUKWBiFLg5ClQcjSIGRpELI0CCMY5CxgkBoRT7/DEczqkI0c7FwMGKRGxIUmgvQOOf4PGKY67r8mj2KuBQxUHfYFWKVhjgIGq456wICeq9gZ8nMV1TGfgO3+7gbGdP9Q8H3AwBVqbzd/gClafvJorqUnjzY64np/Jz/aDCEiIiIiIiIiIiIiIkKHeAUmfeWjLrj42gAAAABJRU5ErkJggg=="/>
</defs>
</svg>

            </button>
            <button id="btn-reception" class="btncmd">
                <span>Operation à clôturer ?</span>
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
            </button>
            <button id="btn-probleme" class="btncmd problem">
                <span>Signaler un problème</span>
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m21.73 18-8-14a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/><line x1="12" x2="12" y1="9" y2="13"/><line x1="12" x2="12.01" y1="17" y2="17"/></svg>
            </button>
        </div>
        <p class="Ref_Ligne_Transport gray" title="Ref_Ligne_Transport"></p>
    </div>

    <div id="panel-collapsed" class="info-panel-collapsed hidden">
        <div class="info">
            <p class="nom">Livraison container (Ref: A7ehg-ejke)</p>
            <p class="statut">en cours</p>
        </div>
        <button id="expand-btn" class="icon-btn">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m18 15-6-6-6 6"/></svg>
        </button>
    </div>

    <div id="map"></div>



  <script src="/accesoire/ElementPrimaire/loader.js"></script>
  <script src="/js/chatbot.js"></script>
  <script> 
    LoadingAnimation.start();
  </script>
  <script src="https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.js"></script>
  <script src="/js/livraison-ui-controller.js"></script>
  <script src="/js/modals.js"></script>
  <script src="/js/livraison.js"></script>
</body>
</html>